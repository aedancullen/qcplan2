<launch>

  <arg name="calib_file" default="/home/stanley/qcplan2/svo_camchain-2022-05-05-00-22-32.yaml" />

  <node pkg="svo_ros" type="svo_node" name="svo" clear_params="true" output="screen" args="--logtostderr=1 --v=0">
    <param name="cam0_topic" value="/cam0/image_raw" />
    <param name="cam1_topic" value="/cam1/image_raw" />
    <param name="calib_file" value="$(arg calib_file)" />
    <rosparam file="$(find svo_ros)/param/pinhole.yaml" />
    <param name="grid_size" value="25" />
    <param name="pipeline_is_stereo" value="true" />
    <param name="automatic_reinitialization" value="true" />
    <param name="use_imu" value="false" />
    <param name="poseoptim_prior_lambda" value="0.0" />
    <param name="img_align_prior_lambda_rot" value="0.0" />
    <param name="img_align_prior_lambda_trans" value="0.0" />
  </node>

  <!--<node name="vis" pkg="rviz" type="rviz" args=" -d $(find svo_ros)/rviz_config.rviz" />-->

  <node pkg="tf2_ros" type="static_transform_publisher" name="orient_world" output="screen" args="0 0 0 -1.5708 0 -1.5708 odom world" />

  <node pkg="tf2_ros" type="static_transform_publisher" name="orient_laser" output="screen" args="0 0 0 1.5708 -1.5708 0 cam_pos laser" />

  <node pkg="slam_toolbox" type="async_slam_toolbox_node" name="slam_toolbox" output="screen">
    <rosparam file="$(find slam_toolbox)/config/mapper_params_online_async.yaml" />
    <param name="base_frame" value="laser" />
  </node>

</launch>
